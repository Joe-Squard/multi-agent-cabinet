# /dig — 構造化された要件明確化（5フェーズ）

曖昧な要件を5つのフェーズで掘り下げ、明確な仕様に変換します。

## 使い方

```
/dig <曖昧な要件や課題の説明>
```

## 5フェーズ

### Phase 1: 目的の明確化
- 「何を達成したいのか？」を掘り下げる
- ユーザーの言葉からゴールを抽出
- Why の連鎖で根本目的を特定

### Phase 2: ユーザー・ステークホルダー特定
- 「誰が使うのか？」
- 「誰が影響を受けるのか？」
- ペルソナやユースケースの概略

### Phase 3: スコープ定義
- 含めるもの（In Scope）
- 含めないもの（Out of Scope）
- MVP vs フルバージョンの線引き

### Phase 4: 制約・前提の整理
- 技術的制約（既存システム、インフラ）
- ビジネス制約（期限、予算、規制）
- 前提条件（何が正しいと仮定するか）

### Phase 5: 成功基準の定義
- 定量的な成功基準
- 受入条件（Acceptance Criteria）
- テスト可能な形で記述

## 実行手順

1. ユーザーの入力から Phase 1 の質問を生成
2. 各フェーズで対話的に質問と確認を繰り返す
3. 最終的に以下のフォーマットで出力:

```markdown
## 要件定義: <タイトル>

### ゴール
（Phase 1 の結果）

### ユーザー
（Phase 2 の結果）

### スコープ
- In: ...
- Out: ...

### 制約・前提
（Phase 4 の結果）

### 成功基準
- [ ] ...
```

4. 必要に応じてリリーススペックのドラフトも生成
