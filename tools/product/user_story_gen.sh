#!/bin/bash
# user_story_gen.sh - ユーザーストーリー雛形生成
# 使い方: ./tools/product/user_story_gen.sh "ペルソナ名" "機能名"
set -euo pipefail

PERSONA="${1:-ユーザー}"
FEATURE="${2:-機能}"

cat <<EOF
# ユーザーストーリー: ${FEATURE}

## ペルソナ: ${PERSONA}

### メインストーリー
「${PERSONA}として、${FEATURE}を使いたい。なぜなら（理由）」

### サブストーリー
| ID | ストーリー | 優先度 | 受入条件 |
|---|---|---|---|
| US-001 | 「${PERSONA}として、...したい」 | P0 | - [ ] ... |
| US-002 | 「${PERSONA}として、...したい」 | P1 | - [ ] ... |
| US-003 | 「${PERSONA}として、...したい」 | P2 | - [ ] ... |

### 正常系フロー
1. ${PERSONA}が...
2. システムが...
3. ${PERSONA}が...
4. 結果: ...

### 異常系・エッジケース
| ケース | 期待動作 |
|---|---|
| （入力が空の場合） | （エラーメッセージ表示） |
| （権限がない場合） | （ログイン画面へ遷移） |

### 非機能要件
- パフォーマンス: （応答時間 Xms 以下）
- アクセシビリティ: （WCAG 2.1 AA 準拠）
- セキュリティ: （認証必須 / 不要）

---
ユーザーストーリー雛形生成完了: ${PERSONA} × ${FEATURE}
EOF
exit 0
